template(name='product_edit')
    with current_doc
        .ui.stackable.padded.grid
            .five.wide.column
                .ui.header editing product
                .ui.header #{title}
                +text_edit key='title' label='title' direct=true 
                +array_edit key='tags' label='tags' direct=true
                +number_edit key='usd_price' label='dollar price' icon='dollar' direct=true
            .six.wide.column
                +image_edit key='image_id' direct=true
                //- img.ui.large.image(src="{{c.url image width=800 height=500 gravity='face' crop='fill'}}")
                +html_edit key='description' direct=true
            .five.wide.column
                a.ui.large.fluid.green.button(href="/product/#{_id}/view")
                    i.checkmark.icon   
                    |save     
                if can_delete
                    .ui.red.button.delete_product
                        i.remove.icon   
                        |delete
                .ui.header delivery method
                +key_value_edit key='delivery_method' value='delivery' color_icon='deliver-food'
                +key_value_edit key='delivery_method' value='pickup' color_icon='doormat'

                if key_value_is 'delivery_method' 'delivery'
                    +datetime_edit key='delivery_timedate' label='delivery timedate' direct=true
                if key_value_is 'delivery_method' 'pickup'
                    +datetime_edit key='pickup_timedate' label='pickup timedate' direct=true
